{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\acer\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\acer\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\acer\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\acer\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\acer\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\acer\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\acer\\\\client\\\\src\\\\components\\\\headerMarket.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { useState, useEffect } from 'react';\nimport iuh from \"../iuh.png\";\nimport Web3 from 'web3';\nimport iuhBank from '../abis/iuhBank.json';\nimport IuhCoin from '../abis/iuhCoin.json';\nimport Oracle from '../abis/Oracle.json';\nimport dai from \"../dai.svg\";\n\nvar HeaderMarket = /*#__PURE__*/function (_Component) {\n  _inherits(HeaderMarket, _Component);\n\n  var _super = _createSuper(HeaderMarket);\n\n  _createClass(HeaderMarket, [{\n    key: \"loadBlockchainData\",\n    value: function () {\n      var _loadBlockchainData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n        var web3, netId, accounts, balance, account, iuhCoin, IuhBank, iuhBankAddress;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(typeof window.ethereum !== 'undefined')) {\n                  _context.next = 21;\n                  break;\n                }\n\n                web3 = new Web3(window.ethereum);\n                _context.next = 4;\n                return web3.eth.net.getId();\n\n              case 4:\n                netId = _context.sent;\n                _context.next = 7;\n                return web3.eth.getAccounts();\n\n              case 7:\n                accounts = _context.sent;\n\n                if (!(typeof accounts[0] !== 'undefined')) {\n                  _context.next = 17;\n                  break;\n                }\n\n                _context.next = 11;\n                return web3.eth.getBalance(accounts[0]);\n\n              case 11:\n                balance = _context.sent;\n                account = accounts[0];\n                account = account.substring(0, 6) + \"......\" + account.substring(account.length - 4, account.length);\n                this.setState({\n                  account: account,\n                  balance: balance / Math.pow(10, 18),\n                  web3: web3\n                });\n                _context.next = 18;\n                break;\n\n              case 17:\n                window.alert('Please login with MetaMask');\n\n              case 18:\n                try {\n                  iuhCoin = new web3.eth.Contract(IuhCoin.abi, IuhCoin.networks[netId].address);\n                  IuhBank = new web3.eth.Contract(iuhBank.abi, iuhBank.networks[netId].address);\n                  iuhBankAddress = iuhBank.networks[netId].address;\n                  this.setState({\n                    token: iuhCoin,\n                    iuhBank: IuhBank,\n                    iuhBankAddress: iuhBankAddress\n                  });\n                } catch (e) {\n                  console.log(e);\n                  window.alert('Contracts not deployed to the current network');\n                }\n\n                _context.next = 22;\n                break;\n\n              case 21:\n                window.alert('Please install MetaMask');\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function loadBlockchainData(_x) {\n        return _loadBlockchainData.apply(this, arguments);\n      }\n\n      return loadBlockchainData;\n    }()\n  }]);\n\n  function HeaderMarket(props) {\n    var _this;\n\n    _classCallCheck(this, HeaderMarket);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      web3: null,\n      iuhBank: null,\n      token: null,\n      iuhBankAddress: null,\n      account: null\n    };\n    return _this;\n  }\n\n  _createClass(HeaderMarket, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n        expand: \"lg\",\n        sticky: \"top\",\n        className: \"text-light p-0\",\n        id: \"headerMarket\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n        href: \"/\",\n        className: \"text-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"\",\n        src: iuh,\n        width: \"25\",\n        height: \"25\",\n        className: \"d-inline-block align-top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 29\n        }\n      }), ' ', /*#__PURE__*/React.createElement(\"span\", {\n        className: \"h4 p-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      }, \"IuhBank\")), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n        \"aria-controls\": \"navbarScroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n        id: \"navbarScroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        className: \"me-auto my-2 my-lg-0 w-75 text-center row  text-lght justify-content-start\",\n        style: {\n          maxHeight: '100px',\n          justifyContent: 'center'\n        },\n        navbarScroll: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Nav.Link, {\n        href: \"/home\",\n        className: \"col-2 text-light h6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 33\n        }\n      }, \"Dashboard\"), /*#__PURE__*/React.createElement(Nav.Link, {\n        href: \"/market\",\n        className: \"col-3 text-light h6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 33\n        }\n      }, \"Market\"), /*#__PURE__*/React.createElement(Nav.Link, {\n        href: \"/PersonalLoan\",\n        className: \"col-3 text-light h6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 33\n        }\n      }, \"Personal Loan\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-end  w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n        variant: \"dark m-0 p-1\",\n        id: \"dropdown-basic\",\n        className: \"btn border\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 37\n        }\n      }, this.state.account), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n        href: \"/AccountLoanInfo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 41\n        }\n      }, \"Account loan infor\"))))))));\n    }\n  }]);\n\n  return HeaderMarket;\n}(Component);\n\nexport { HeaderMarket as default };","map":{"version":3,"sources":["C:/Users/acer/client/src/components/headerMarket.js"],"names":["React","Component","Container","Nav","Navbar","Dropdown","useState","useEffect","iuh","Web3","iuhBank","IuhCoin","Oracle","HeaderMarket","dispatch","window","ethereum","web3","eth","net","getId","netId","getAccounts","accounts","getBalance","balance","account","substring","length","setState","alert","iuhCoin","Contract","abi","networks","address","IuhBank","iuhBankAddress","token","e","console","log","props","state","maxHeight","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport { useState, useEffect } from 'react';\r\nimport iuh from \"../iuh.png\"\r\nimport Web3 from 'web3';\r\nimport iuhBank from '../abis/iuhBank.json';\r\nimport IuhCoin from '../abis/iuhCoin.json';\r\nimport Oracle from '../abis/Oracle.json';\r\nimport dai from \"../dai.svg\";\r\n\r\nexport default class HeaderMarket extends Component {\r\n    async loadBlockchainData(dispatch) {\r\n        if(typeof window.ethereum !== 'undefined'){\r\n        const web3 = new Web3(window.ethereum)\r\n        const netId = await web3.eth.net.getId()\r\n        const accounts = await web3.eth.getAccounts()\r\n        if(typeof accounts[0] !== 'undefined'){\r\n            const balance = await web3.eth.getBalance(accounts[0])\r\n            let account = accounts[0];\r\n            account = account.substring(0, 6) + \"......\" +account.substring(account.length - 4, account.length);\r\n            this.setState({account: account, balance: balance / 10 **18, web3: web3})\r\n        } else {\r\n            window.alert('Please login with MetaMask')\r\n        }\r\n        try {\r\n            const iuhCoin = new web3.eth.Contract(IuhCoin.abi, IuhCoin.networks[netId].address)\r\n            const IuhBank = new web3.eth.Contract(iuhBank.abi, iuhBank.networks[netId].address)\r\n            const iuhBankAddress = iuhBank.networks[netId].address;\r\n            this.setState({token: iuhCoin, iuhBank: IuhBank, iuhBankAddress: iuhBankAddress})\r\n        } catch (e) {\r\n                console.log(e)\r\n                window.alert('Contracts not deployed to the current network')\r\n            }\r\n        } else {\r\n        window.alert('Please install MetaMask')\r\n        }\r\n    }\r\n    constructor(props){\r\n        super(props);\r\n        this.state ={\r\n            web3: null,\r\n            iuhBank: null, \r\n            token: null,\r\n            iuhBankAddress: null,\r\n            account: null,\r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n            <>\r\n                <Navbar  expand=\"lg\"  sticky=\"top\" className='text-light p-0' id='headerMarket'> \r\n                    <Container fluid className='row' >\r\n                        <Navbar.Brand href=\"/\" className='text-light'>\r\n                            <img\r\n                            alt=\"\"\r\n                            src= {iuh}\r\n                            width=\"25\"\r\n                            height=\"25\"\r\n                            className=\"d-inline-block align-top\"\r\n                            />{' '}\r\n                            <span className='h4 p-2'>IuhBank</span>\r\n                        </Navbar.Brand>\r\n                        <Navbar.Toggle aria-controls=\"navbarScroll\" />\r\n                        <Navbar.Collapse id=\"navbarScroll\" >\r\n                            <Nav\r\n                                className=\"me-auto my-2 my-lg-0 w-75 text-center row  text-lght justify-content-start\"\r\n                                style={{ maxHeight: '100px',justifyContent: 'center'}}\r\n                                navbarScroll\r\n                            >\r\n                                <Nav.Link href=\"/home\" className='col-2 text-light h6'>Dashboard</Nav.Link>\r\n                                <Nav.Link href=\"/market\" className='col-3 text-light h6'>Market</Nav.Link>\r\n                                <Nav.Link href=\"/PersonalLoan\" className='col-3 text-light h6'>Personal Loan</Nav.Link>\r\n                            </Nav>\r\n                            <div className=\"d-flex justify-content-end  w-100\">\r\n                                <Dropdown>\r\n                                    <Dropdown.Toggle variant=\"dark m-0 p-1\" id=\"dropdown-basic\" className='btn border'>\r\n                                        {this.state.account}\r\n                                    </Dropdown.Toggle>\r\n\r\n                                    <Dropdown.Menu>\r\n                                        <Dropdown.Item href=\"/AccountLoanInfo\">Account loan infor</Dropdown.Item>\r\n                                    </Dropdown.Menu>\r\n                                </Dropdown>\r\n                            </div>\r\n                        </Navbar.Collapse>\r\n                    </Container>\r\n                </Navbar>   \r\n            </>\r\n        )\r\n       }\r\n}"]},"metadata":{},"sourceType":"module"}