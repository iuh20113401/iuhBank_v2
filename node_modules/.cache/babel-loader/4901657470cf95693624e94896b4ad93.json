{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\2023_2024\\\\IUH_HK2_2022_2023\\\\LTPTDL2\\\\dbank-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\2023_2024\\\\IUH_HK2_2022_2023\\\\LTPTDL2\\\\dbank-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"E:\\\\2023_2024\\\\IUH_HK2_2022_2023\\\\LTPTDL2\\\\dbank-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\2023_2024\\\\IUH_HK2_2022_2023\\\\LTPTDL2\\\\dbank-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"E:\\\\2023_2024\\\\IUH_HK2_2022_2023\\\\LTPTDL2\\\\dbank-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:\\\\2023_2024\\\\IUH_HK2_2022_2023\\\\LTPTDL2\\\\dbank-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport _slicedToArray from \"E:\\\\2023_2024\\\\IUH_HK2_2022_2023\\\\LTPTDL2\\\\dbank-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\2023_2024\\\\IUH_HK2_2022_2023\\\\LTPTDL2\\\\dbank-master\\\\client\\\\src\\\\components\\\\User.js\";\nimport { Tabs, Tab } from 'react-bootstrap';\nimport dBank from '../abis/dBank.json';\nimport React, { Component, useState } from 'react';\nimport Token from '../abis/Token.json';\nimport dbank from '../iuh.png';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Web3 from 'web3';\nimport { userAccount } from './account';\nimport { BrowserRouter as Router, Navigate } from \"react-router-dom\";\nvar amount = JSON.parse(localStorage.getItem('amount')) || [0];\nvar modal = localStorage.getItem('modal') || '';\nvar lender = [{\n  account: '',\n  value: 0,\n  method: '',\n  payOffAmount: 0\n}];\n\nfunction ModalShow(props) {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var Reload = function Reload() {\n    setShow(false);\n  };\n\n  var message = props.message;\n  localStorage.removeItem(\"modal\");\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 11\n    }\n  }, message)), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: Reload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }\n  }, \"Close\"))));\n}\n\nvar Begin = /*#__PURE__*/function (_React$Component) {\n  _inherits(Begin, _React$Component);\n\n  var _super = _createSuper(Begin);\n\n  function Begin() {\n    _classCallCheck(this, Begin);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Begin, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(User, {\n        socket: this.props.socket,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }\n      });\n    }\n  }]);\n\n  return Begin;\n}(React.Component);\n\nexport { Begin as default };\n\nvar User = /*#__PURE__*/function (_Component) {\n  _inherits(User, _Component);\n\n  var _super2 = _createSuper(User);\n\n  _createClass(User, [{\n    key: \"loadBlockchainData\",\n    value: function () {\n      var _loadBlockchainData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n        var web3, netId, accounts, balance, token, _dbank, dBankAddress;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(typeof window.ethereum !== 'undefined')) {\n                  _context.next = 21;\n                  break;\n                }\n\n                web3 = new Web3(window.ethereum);\n                _context.next = 4;\n                return web3.eth.net.getId();\n\n              case 4:\n                netId = _context.sent;\n                _context.next = 7;\n                return web3.eth.getAccounts();\n\n              case 7:\n                accounts = _context.sent;\n                _context.next = 10;\n                return web3.eth.getBalance(accounts[0]);\n\n              case 10:\n                balance = _context.sent;\n                this.setState({\n                  account: accounts[0],\n                  balance: balance,\n                  web3: web3\n                });\n                token = new web3.eth.Contract(Token.abi, Token.networks[netId].address);\n                _dbank = new web3.eth.Contract(dBank.abi, dBank.networks[netId].address);\n                dBankAddress = dBank.networks[netId].address;\n                this.setState({\n                  token: token,\n                  dbank: _dbank,\n                  dBankAddress: dBankAddress\n                });\n                _context.next = 18;\n                return this.getInfo();\n\n              case 18:\n                // Sử dụng await để đợi cho hàm getInfo hoàn thành\n                this.setState({\n                  connect: true\n                }); // Sau đó mới gán giá trị true cho biến connect\n\n                _context.next = 22;\n                break;\n\n              case 21:\n                window.alert('Please install MetaMask');\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function loadBlockchainData(_x) {\n        return _loadBlockchainData.apply(this, arguments);\n      }\n\n      return loadBlockchainData;\n    }()\n  }, {\n    key: \"getInfo\",\n    value: function () {\n      var _getInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var lenderAmount, index;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.state.dbank.methods.getBalance(this.state.account).call({\n                  from: this.state.account\n                });\n\n              case 2:\n                _context2.t0 = _context2.sent;\n                _context2.t1 = Math.pow(10, 18);\n                this.state.bankBanlace = _context2.t0 / _context2.t1;\n                _context2.next = 7;\n                return this.state.dbank.methods.getToken(this.state.account).call({\n                  from: this.state.account\n                });\n\n              case 7:\n                _context2.t2 = _context2.sent;\n                _context2.t3 = Math.pow(10, 18);\n                this.state.TokenBalance = _context2.t2 / _context2.t3;\n                _context2.next = 12;\n                return this.state.dbank.methods.getStake(this.state.account).call({\n                  from: this.state.account\n                });\n\n              case 12:\n                _context2.t4 = _context2.sent;\n                _context2.t5 = Math.pow(10, 18);\n                this.state.stake = _context2.t4 / _context2.t5;\n                _context2.next = 17;\n                return this.state.dbank.methods.getLenderAmount().call({\n                  from: this.state.account\n                });\n\n              case 17:\n                lenderAmount = _context2.sent;\n                index = 0;\n\n              case 19:\n                if (!(index < lenderAmount)) {\n                  _context2.next = 50;\n                  break;\n                }\n\n                _context2.next = 22;\n                return this.state.dbank.methods.getLender(index).call({\n                  from: this.state.account\n                });\n\n              case 22:\n                _context2.t6 = _context2.sent;\n                lender[index] = {\n                  account: _context2.t6\n                };\n                _context2.next = 26;\n                return this.state.dbank.methods.getBorrowMethod(index).call({\n                  from: this.state.account\n                });\n\n              case 26:\n                lender[index].method = _context2.sent;\n\n                if (!(lender[index].method === \"Ether\")) {\n                  _context2.next = 33;\n                  break;\n                }\n\n                _context2.next = 30;\n                return this.state.dbank.methods.getBorrowBalanceOf(lender[index].account).call({\n                  from: this.state.account\n                });\n\n              case 30:\n                _context2.t7 = _context2.sent;\n                _context2.next = 36;\n                break;\n\n              case 33:\n                _context2.next = 35;\n                return this.state.dbank.methods.getTokenBorrow(lender[index].account).call({\n                  from: this.state.account\n                });\n\n              case 35:\n                _context2.t7 = _context2.sent;\n\n              case 36:\n                lender[index].value = _context2.t7;\n\n                if (!(lender[index].method == \"Ether\")) {\n                  _context2.next = 43;\n                  break;\n                }\n\n                _context2.next = 40;\n                return this.state.dbank.methods.getPayOffAmountEther(lender[index].account).call({\n                  from: this.state.account\n                });\n\n              case 40:\n                _context2.t8 = _context2.sent;\n                _context2.next = 46;\n                break;\n\n              case 43:\n                _context2.next = 45;\n                return this.state.dbank.methods.getPayOffAmountToken(lender[index].account).call({\n                  from: this.state.account\n                });\n\n              case 45:\n                _context2.t8 = _context2.sent;\n\n              case 46:\n                lender[index].payOffAmount = _context2.t8;\n\n              case 47:\n                index++;\n                _context2.next = 19;\n                break;\n\n              case 50:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getInfo() {\n        return _getInfo.apply(this, arguments);\n      }\n\n      return getInfo;\n    }()\n  }, {\n    key: \"sendAddress\",\n    value: function () {\n      var _sendAddress = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.props.socket.emit('join', this.state.account);\n                localStorage.setItem('modal', \"Send request successfully\");\n                window.location.reload();\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function sendAddress() {\n        return _sendAddress.apply(this, arguments);\n      }\n\n      return sendAddress;\n    }()\n  }, {\n    key: \"coc\",\n    value: function () {\n      var _coc = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(amount) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.state.dbank !== 'undefined')) {\n                  _context4.next = 14;\n                  break;\n                }\n\n                _context4.prev = 1;\n                _context4.next = 4;\n                return this.state.dbank.methods.Coc().send({\n                  value: amount.toString(),\n                  from: this.state.account\n                });\n\n              case 4:\n                fetch('https://iuh-bank-server.onrender.com/method', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    account: this.state.account,\n                    method: 'ether'\n                  })\n                });\n                localStorage.setItem('amount', 0);\n                localStorage.setItem('modal', \"You stake successfully\");\n                window.location.reload();\n                _context4.next = 14;\n                break;\n\n              case 10:\n                _context4.prev = 10;\n                _context4.t0 = _context4[\"catch\"](1);\n                localStorage.setItem('modal', \"You stake fail\");\n                window.location.reload();\n\n              case 14:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[1, 10]]);\n      }));\n\n      function coc(_x2) {\n        return _coc.apply(this, arguments);\n      }\n\n      return coc;\n    }()\n  }, {\n    key: \"withdraw\",\n    value: function () {\n      var _withdraw = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                e.preventDefault();\n\n                if (!(this.state.dbank !== 'undefined')) {\n                  _context5.next = 13;\n                  break;\n                }\n\n                _context5.prev = 2;\n                _context5.next = 5;\n                return this.state.dbank.methods.withdraw().send({\n                  from: this.state.account\n                });\n\n              case 5:\n                localStorage.setItem('modal', \"You withdraw successfully\");\n                window.location.reload();\n                _context5.next = 13;\n                break;\n\n              case 9:\n                _context5.prev = 9;\n                _context5.t0 = _context5[\"catch\"](2);\n                localStorage.setItem('modal', \"You withdraw fail\");\n                window.location.reload();\n\n              case 13:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[2, 9]]);\n      }));\n\n      function withdraw(_x3) {\n        return _withdraw.apply(this, arguments);\n      }\n\n      return withdraw;\n    }()\n  }, {\n    key: \"CocWithDeposit\",\n    value: function () {\n      var _CocWithDeposit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(amount) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (!(this.state.dbank !== 'undefined')) {\n                  _context6.next = 14;\n                  break;\n                }\n\n                _context6.prev = 1;\n                amount = amount * Math.pow(10, 18);\n                _context6.next = 5;\n                return this.state.dbank.methods.CocWithEtherDeposit(amount.toString()).send({\n                  from: this.state.account\n                });\n\n              case 5:\n                fetch('https://iuh-bank-server.onrender.com/method', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    account: this.state.account,\n                    method: 'ether'\n                  })\n                });\n                localStorage.setItem('modal', \"You stake successfully\");\n                window.location.reload();\n                _context6.next = 14;\n                break;\n\n              case 10:\n                _context6.prev = 10;\n                _context6.t0 = _context6[\"catch\"](1);\n                localStorage.setItem('modal', \"You stake fail\");\n                window.location.reload();\n\n              case 14:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[1, 10]]);\n      }));\n\n      function CocWithDeposit(_x4) {\n        return _CocWithDeposit.apply(this, arguments);\n      }\n\n      return CocWithDeposit;\n    }()\n  }, {\n    key: \"CocWithToken\",\n    value: function () {\n      var _CocWithToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(amount) {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!(this.state.dbank !== 'undefined')) {\n                  _context7.next = 16;\n                  break;\n                }\n\n                _context7.prev = 1;\n                amount = amount * Math.pow(10, 18);\n                _context7.next = 5;\n                return this.state.token.methods.approve(this.state.dBankAddress, amount.toString()).send({\n                  from: this.state.account\n                });\n\n              case 5:\n                _context7.next = 7;\n                return this.state.dbank.methods.CocWithToken(amount.toString()).send({\n                  from: this.state.account\n                });\n\n              case 7:\n                fetch('https://iuh-bank-server.onrender.com/method', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    account: this.state.account,\n                    method: 'Token'\n                  })\n                });\n                localStorage.setItem('modal', \"You stake successfully\");\n                window.location.reload();\n                _context7.next = 16;\n                break;\n\n              case 12:\n                _context7.prev = 12;\n                _context7.t0 = _context7[\"catch\"](1);\n                localStorage.setItem('modal', \"You stake fail\");\n                window.location.reload();\n\n              case 16:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[1, 12]]);\n      }));\n\n      function CocWithToken(_x5) {\n        return _CocWithToken.apply(this, arguments);\n      }\n\n      return CocWithToken;\n    }()\n  }, {\n    key: \"deposit\",\n    value: function () {\n      var _deposit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(amount) {\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (!(this.state.dbank !== 'undefined')) {\n                  _context8.next = 12;\n                  break;\n                }\n\n                _context8.prev = 1;\n                _context8.next = 4;\n                return this.state.dbank.methods.deposit().send({\n                  value: amount.toString(),\n                  from: this.state.account\n                });\n\n              case 4:\n                localStorage.setItem('modal', \"You deposit successfully\");\n                window.location.reload();\n                _context8.next = 12;\n                break;\n\n              case 8:\n                _context8.prev = 8;\n                _context8.t0 = _context8[\"catch\"](1);\n                localStorage.setItem('modal', \"You deposit fail\");\n                window.location.reload();\n\n              case 12:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[1, 8]]);\n      }));\n\n      function deposit(_x6) {\n        return _deposit.apply(this, arguments);\n      }\n\n      return deposit;\n    }()\n  }, {\n    key: \"lendToken\",\n    value: function () {\n      var _lendToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(address, amount, interest) {\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!(this.state.dbank !== 'undefined')) {\n                  _context9.next = 15;\n                  break;\n                }\n\n                _context9.prev = 1;\n                amount = amount * Math.pow(10, 18);\n                _context9.next = 5;\n                return this.state.token.methods.approve(this.state.dBankAddress, amount.toString()).send({\n                  from: this.state.account\n                });\n\n              case 5:\n                _context9.next = 7;\n                return this.state.dbank.methods.lendToken(address, interest).send({\n                  value: amount,\n                  from: this.state.account\n                });\n\n              case 7:\n                localStorage.setItem('modal', \"You lend successfully\");\n                window.location.reload();\n                _context9.next = 15;\n                break;\n\n              case 11:\n                _context9.prev = 11;\n                _context9.t0 = _context9[\"catch\"](1);\n                // báo lỗi nếu việc lấy giá trị bị lỗi\n                localStorage.setItem('modal', \"You lend fail\");\n                window.location.reload();\n\n              case 15:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[1, 11]]);\n      }));\n\n      function lendToken(_x7, _x8, _x9) {\n        return _lendToken.apply(this, arguments);\n      }\n\n      return lendToken;\n    }()\n  }, {\n    key: \"lend\",\n    value: function () {\n      var _lend = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(address, amountSend, interest) {\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (!(this.state.dbank !== 'undefined')) {\n                  _context10.next = 13;\n                  break;\n                }\n\n                _context10.prev = 1;\n                amountSend *= Math.pow(10, 18); // Sau đó trả lại cho người dùng tiền đã thế chấp\n\n                _context10.next = 5;\n                return this.state.dbank.methods.lendEther(address, amountSend.toString(), interest).send({\n                  from: this.state.account\n                });\n\n              case 5:\n                localStorage.setItem('modal', \"You lend successfully\");\n                window.location.reload();\n                _context10.next = 13;\n                break;\n\n              case 9:\n                _context10.prev = 9;\n                _context10.t0 = _context10[\"catch\"](1);\n                localStorage.setItem('modal', \"You lend fail\");\n                window.location.reload();\n\n              case 13:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[1, 9]]);\n      }));\n\n      function lend(_x10, _x11, _x12) {\n        return _lend.apply(this, arguments);\n      }\n\n      return lend;\n    }()\n  }, {\n    key: \"lendDerectly\",\n    value: function () {\n      var _lendDerectly = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(address, amountSend, interest) {\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (!(this.state.dbank !== 'undefined')) {\n                  _context11.next = 13;\n                  break;\n                }\n\n                _context11.prev = 1;\n                amountSend *= Math.pow(10, 18);\n                _context11.next = 5;\n                return this.state.dbank.methods.lendEtherDerectly(address, interest).send({\n                  value: amountSend.toString(),\n                  from: this.state.account\n                });\n\n              case 5:\n                localStorage.setItem('modal', \"You lend successfully\");\n                window.location.reload();\n                _context11.next = 13;\n                break;\n\n              case 9:\n                _context11.prev = 9;\n                _context11.t0 = _context11[\"catch\"](1);\n                localStorage.setItem('modal', \"You lend fail\");\n                window.location.reload();\n\n              case 13:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this, [[1, 9]]);\n      }));\n\n      function lendDerectly(_x13, _x14, _x15) {\n        return _lendDerectly.apply(this, arguments);\n      }\n\n      return lendDerectly;\n    }()\n  }, {\n    key: \"payOffEther\",\n    value: function () {\n      var _payOffEther = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(address, amount) {\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (!(this.state.dbank !== 'undefined')) {\n                  _context12.next = 12;\n                  break;\n                }\n\n                _context12.prev = 1;\n                _context12.next = 4;\n                return this.state.dbank.methods.payOffEther(address, amount).send({\n                  value: amount,\n                  from: this.state.account\n                });\n\n              case 4:\n                localStorage.setItem('modal', \"You PayOFf successfully\");\n                window.location.reload();\n                _context12.next = 12;\n                break;\n\n              case 8:\n                _context12.prev = 8;\n                _context12.t0 = _context12[\"catch\"](1);\n                localStorage.setItem('modal', \"You PayOff fail\");\n                window.location.reload();\n\n              case 12:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this, [[1, 8]]);\n      }));\n\n      function payOffEther(_x16, _x17) {\n        return _payOffEther.apply(this, arguments);\n      }\n\n      return payOffEther;\n    }()\n  }, {\n    key: \"payOffToken\",\n    value: function () {\n      var _payOffToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(address, amount) {\n        return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                if (!(this.state.dbank !== 'undefined')) {\n                  _context13.next = 14;\n                  break;\n                }\n\n                _context13.prev = 1;\n                _context13.next = 4;\n                return this.state.token.methods.approve(this.state.dBankAddress, amount).send({\n                  from: this.state.account\n                });\n\n              case 4:\n                _context13.next = 6;\n                return this.state.dbank.methods.payOffToken(address).send({\n                  from: this.state.account\n                });\n\n              case 6:\n                localStorage.setItem('modal', \"You PayOFf successfully\");\n                window.location.reload();\n                _context13.next = 14;\n                break;\n\n              case 10:\n                _context13.prev = 10;\n                _context13.t0 = _context13[\"catch\"](1);\n                localStorage.setItem('modal', \"You PayOff fail\");\n                window.location.reload();\n\n              case 14:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this, [[1, 10]]);\n      }));\n\n      function payOffToken(_x18, _x19) {\n        return _payOffToken.apply(this, arguments);\n      }\n\n      return payOffToken;\n    }()\n  }]);\n\n  function User(props) {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _super2.call(this, props);\n\n    _this.handleRequest = function (e) {\n      e.preventDefault();\n      var account = _this.state.account;\n      return fetch('https://iuh-bank-server.onrender.com/request', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          account: account\n        })\n      }).then(function (res) {\n        if (!res.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        return res.json();\n      }).then(function (data) {\n        localStorage.setItem('amount', data);\n        localStorage.setItem('modal', \"You have a request to stake\");\n        window.location.reload();\n      }).catch(function (error) {\n        window.location.reload();\n      });\n    };\n\n    _this.state = {\n      web3: 'undefined',\n      account: '',\n      token: null,\n      dbank: null,\n      balance: 0,\n      dBankAddress: null,\n      bankBanlace: 0,\n      TokenBalance: 0,\n      stake: 0,\n      connect: false\n    };\n    return _this;\n  } // dùng để tạo giao diện website \n\n\n  _createClass(User, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 7\n        }\n      }, modal !== '' && /*#__PURE__*/React.createElement(ModalShow, {\n        message: modal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 26\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-monospace\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 9\n        }\n      }, this.state.connect === false && /*#__PURE__*/React.createElement(\"div\", {\n        onLoad: this.loadBlockchainData(this.props.dispatch),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 44\n        }\n      }), this.state.connect === true && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"nav\", {\n        className: \"navbar navbar-primary fixed-top bg-primary flex-md-nowrap p-0 shadow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"navbar-brand col-sm-3 col-md-2 mr-0\",\n        href: \"#\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: dbank,\n        className: \"App-logo m-auto \",\n        alt: \"logo\",\n        height: \"32\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"b\", {\n        className: \"text-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 15\n        }\n      }, \"IUHBANK\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid mt-5 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 17\n        }\n      }, \"Welcome to d\\u20BFank\"), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 17\n        }\n      }, \"Your accoutn have : Ether: \", this.state.bankBanlace, \", Token: \", this.state.TokenBalance, \",  Stake: \", this.state.stake, \" \"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"main\", {\n        role: \"main\",\n        className: \"col-lg-12 d-flex text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content mr-auto ml-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Tabs, {\n        defaultActiveKey: \"profile\",\n        id: \"uncontrolled-tab-example\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Tab, {\n        eventKey: \"send\",\n        title: \"Send\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 29\n        }\n      }, amount == 0 && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.sendAddress.bind(this),\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 33\n        }\n      }, \"Send Address\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 142\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.handleRequest.bind(this),\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 33\n        }\n      }, \"Refresh\")), amount != 0 && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 35\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 35\n        }\n      }, \"Do you want to deposit?\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          e.preventDefault();\n          amount = amount * Math.pow(10, 18);\n\n          _this2.coc(amount);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group mr-sm-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 39\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control form-control-md\",\n        placeholder: amount,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 39\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 37\n        }\n      }, \"DEPOSIT\"), \" \", /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          amount = amount;\n\n          _this2.CocWithDeposit(amount);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 37\n        }\n      }, \"Deposit with deposit\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 98\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"mt-2 btn btn-primary\",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          amount = amount;\n\n          _this2.CocWithToken(amount);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 37\n        }\n      }, \"Deposit with Token\")))))), /*#__PURE__*/React.createElement(Tab, {\n        eventKey: \"lend\",\n        title: \"lend\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 29\n        }\n      }), \"How much do you want to deposit?\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 29\n        }\n      }), \"(min. amount is 0.01 ETH)\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 29\n        }\n      }), \"(1 deposit is possible at the time)\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group mr-sm-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"address\",\n        type: \"text\",\n        ref: function ref(input) {\n          _this2.address = input;\n        },\n        className: \"form-control form-control-md\",\n        placeholder: \"adress...\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 35\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 35\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"amountSend\",\n        type: \"number\",\n        ref: function ref(input) {\n          _this2.amountSend = input;\n        },\n        className: \"form-control form-control-md\",\n        placeholder: \"amount to lend...\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 35\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 35\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"interest\",\n        type: \"number\",\n        ref: function ref(input) {\n          _this2.interest = input;\n        },\n        className: \"form-control form-control-md\",\n        placeholder: \"interest to lend...\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 35\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"m-3 mt-0 btn btn-primary\",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          var amountsend = _this2.amountSend.value;\n          var interest = _this2.interest.value;\n          var address = _this2.address.value;\n\n          _this2.lendToken(address, amountsend, interest);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 31\n        }\n      }, \"lendToken\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary m-3 mt-0\",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          var amountsend = _this2.amountSend.value;\n          var interest = _this2.interest.value;\n          var address = _this2.address.value;\n\n          _this2.lendDerectly(address, amountsend, interest);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 31\n        }\n      }, \"lendDerectly\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary m-3 mt-0\",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          var amountsend = _this2.amountSend.value;\n          var interest = _this2.interest.value;\n          var address = _this2.address.value;\n\n          _this2.lend(address, amountsend, interest);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 31\n        }\n      }, \"lend\")))), /*#__PURE__*/React.createElement(Tab, {\n        eventKey: \"deposit\",\n        title: \"Deposit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 27\n        }\n      }), \"How much do you want to deposit?\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 27\n        }\n      }), \"(min. amount is 0.01 ETH)\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 27\n        }\n      }), \"(1 deposit is possible at the time)\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          e.preventDefault();\n          var amount = _this2.depositAmount.value;\n          amount = amount * Math.pow(10, 18); //convert to wei\n\n          _this2.deposit(amount);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group mr-sm-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"depositAmount\",\n        step: \"0.01\",\n        type: \"number\",\n        ref: function ref(input) {\n          _this2.depositAmount = input;\n        },\n        className: \"form-control form-control-md\",\n        placeholder: \"amount...\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 31\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 29\n        }\n      }, \"DEPOSIT\")))), /*#__PURE__*/React.createElement(Tab, {\n        eventKey: \"withdraw\",\n        title: \"Withdraw\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 27\n        }\n      }), \"Do you want to withdraw + take interest?\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        onClick: function onClick(e) {\n          return _this2.withdraw(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 29\n        }\n      }, \"WITHDRAW\"))), /*#__PURE__*/React.createElement(Tab, {\n        eventKey: \"Payoff\",\n        title: \"Pay off\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 25\n        }\n      }, lender != [] && lender.map(function (lendercon) {\n        return lendercon.value != 0 && /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"form\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group mr-sm-2\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control form-control-md\",\n          placeholder: lendercon.account,\n          disabled: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"number\",\n          className: \"form-control form-control-md\",\n          placeholder: lendercon.value,\n          disabled: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control form-control-md\",\n          placeholder: lendercon.method,\n          disabled: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control form-control-md\",\n          placeholder: lendercon.payOffAmount,\n          disabled: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 35\n          }\n        })), /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          className: \"m-3 mt-0 btn btn-primary\",\n          onClick: function onClick(e) {\n            e.preventDefault();\n\n            _this2.payOffToken(lendercon.account, lendercon.payOffAmount);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 33\n          }\n        }, \"Pay off by Token\"), /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary m-3 mt-0\",\n          onClick: function onClick(e) {\n            e.preventDefault();\n\n            _this2.payOffEther(lendercon.account, lendercon.payOffAmount);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 33\n          }\n        }, \"Pay off by Ether\")));\n      }))))))))));\n    }\n  }]);\n\n  return User;\n}(Component);","map":{"version":3,"sources":["E:/2023_2024/IUH_HK2_2022_2023/LTPTDL2/dbank-master/client/src/components/User.js"],"names":["Tabs","Tab","dBank","React","Component","useState","Token","dbank","Modal","Button","Web3","userAccount","BrowserRouter","Router","Navigate","amount","JSON","parse","localStorage","getItem","modal","lender","account","value","method","payOffAmount","ModalShow","props","show","setShow","handleClose","Reload","message","removeItem","Begin","socket","User","dispatch","window","ethereum","web3","eth","net","getId","netId","getAccounts","accounts","getBalance","balance","setState","token","Contract","abi","networks","address","dBankAddress","getInfo","connect","alert","state","methods","call","from","bankBanlace","getToken","TokenBalance","getStake","stake","getLenderAmount","lenderAmount","index","getLender","getBorrowMethod","getBorrowBalanceOf","getTokenBorrow","getPayOffAmountEther","getPayOffAmountToken","emit","setItem","location","reload","Coc","send","toString","fetch","headers","body","stringify","e","preventDefault","withdraw","CocWithEtherDeposit","approve","CocWithToken","deposit","interest","lendToken","amountSend","lendEther","lendEtherDerectly","payOffEther","payOffToken","handleRequest","then","res","ok","Error","json","data","catch","error","loadBlockchainData","sendAddress","bind","coc","CocWithDeposit","input","amountsend","lendDerectly","lend","depositAmount","map","lendercon"],"mappings":"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","sourcesContent":["import { Tabs, Tab } from 'react-bootstrap'\r\nimport dBank from '../abis/dBank.json'\r\nimport React, { Component,useState } from 'react';\r\nimport Token from '../abis/Token.json'\r\nimport dbank from '../iuh.png';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Web3 from 'web3';\r\nimport {userAccount} from './account';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Navigate \r\n}from \"react-router-dom\"\r\nlet amount = JSON.parse(localStorage.getItem('amount')) || [0];\r\nlet modal = localStorage.getItem('modal') || ('');\r\nlet lender = [{account: '', value: 0, method: '', payOffAmount: 0}];\r\nfunction ModalShow(props){\r\n  const [show, setShow] = useState(true);\r\n  const handleClose = () => setShow(false);\r\n  const Reload = () =>{\r\n    setShow(false);\r\n  }\r\n  const message = props.message\r\n  localStorage.removeItem(\"modal\");\r\n  return(\r\n    <>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header>\r\n          <Modal.Title className='m-auto'>{message}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={Reload}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>)\r\n}\r\nexport default class Begin extends React.Component {\r\n  render() {\r\n      return(\r\n        <User socket = {this.props.socket} />)\r\n  }\r\n}\r\nclass User extends Component{\r\n  async loadBlockchainData(dispatch) {\r\n    if(typeof window.ethereum !== 'undefined'){\r\n      const web3 = new Web3(window.ethereum)\r\n      const netId = await web3.eth.net.getId()\r\n      const accounts = await web3.eth.getAccounts()\r\n      const balance = await web3.eth.getBalance(accounts[0])\r\n      this.setState({account: accounts[0], balance: balance, web3: web3})\r\n      const token = new web3.eth.Contract(Token.abi, Token.networks[netId].address)\r\n      const dbank = new web3.eth.Contract(dBank.abi, dBank.networks[netId].address)\r\n      const dBankAddress = dBank.networks[netId].address\r\n      this.setState({token: token, dbank: dbank, dBankAddress: dBankAddress})\r\n\r\n      await this.getInfo(); // Sử dụng await để đợi cho hàm getInfo hoàn thành\r\n      this.setState({ connect: true }); // Sau đó mới gán giá trị true cho biến connect\r\n          \r\n    }else {\r\n      window.alert('Please install MetaMask')\r\n    }\r\n  }\r\n  async getInfo(){\r\n    this.state.bankBanlace = await this.state.dbank.methods.getBalance(this.state.account).call({from:this.state.account})/ (10**18);\r\n    this.state.TokenBalance = await this.state.dbank.methods.getToken(this.state.account).call({from:this.state.account})/ (10**18);\r\n    this.state.stake = await this.state.dbank.methods.getStake(this.state.account).call({from:this.state.account}) / (10**18);\r\n\r\n    let lenderAmount = await this.state.dbank.methods.\r\n    getLenderAmount().call({from: this.state.account});\r\n    for (let index = 0; index < lenderAmount ; index++) {\r\n    lender[index]={account: await this.state.dbank.methods.getLender(index).call({from:this.state.account})};\r\n    lender[index].method = await this.state.dbank.methods.getBorrowMethod(index).call({from: this.state.account});\r\n    lender[index].value = lender[index].method  === \"Ether\" ? await this.state.dbank.methods.getBorrowBalanceOf(lender[index].account).call({from:this.state.account}) : \r\n    await this.state.dbank.methods.getTokenBorrow(lender[index].account).call({from:this.state.account});\r\n    lender[index].payOffAmount = lender[index].method == \"Ether\" ? \r\n    await this.state.dbank.methods.getPayOffAmountEther(lender[index].account).call({from: this.state.account}) :\r\n    await this.state.dbank.methods.getPayOffAmountToken(lender[index].account).call({from: this.state.account})\r\n    }\r\n  }\r\n  async sendAddress(){\r\n    this.props.socket.emit('join',this.state.account);\r\n    localStorage.setItem('modal',\"Send request successfully\");\r\n    window.location.reload()\r\n  }\r\n  handleRequest = (e) => {\r\n  e.preventDefault();\r\n  let account = this.state.account;\r\n  return fetch('https://iuh-bank-server.onrender.com/request', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({account: account}),\r\n  })\r\n    .then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error('Network response was not ok');\r\n      }\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      localStorage.setItem('amount',data);\r\n      localStorage.setItem('modal',\"You have a request to stake\");\r\n      window.location.reload();\r\n    })\r\n    .catch((error) => {\r\n      window.location.reload();\r\n    });\r\n};\r\n  async coc(amount) {\r\n    if(this.state.dbank!=='undefined'){\r\n      try{\r\n      await this.state.dbank.methods.Coc().send({value: amount.toString(), from: this.state.account});\r\n      fetch('https://iuh-bank-server.onrender.com/method', {\r\n          method: 'POST',\r\n          headers: {\r\n          'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({account: this.state.account, method: 'ether'}),\r\n          })\r\n      localStorage.setItem('amount',0);\r\n      localStorage.setItem('modal',\"You stake successfully\");\r\n      window.location.reload();\r\n      } catch (e) {\r\n        localStorage.setItem('modal',\"You stake fail\");\r\n        window.location.reload()\r\n      }\r\n    }\r\n  }\r\n  async withdraw(e) {\r\n    e.preventDefault()\r\n    if(this.state.dbank!=='undefined'){\r\n      try{\r\n        await this.state.dbank.methods.withdraw().send({from: this.state.account})\r\n        localStorage.setItem('modal',\"You withdraw successfully\");\r\n        window.location.reload()\r\n      } catch(e) {\r\n        localStorage.setItem('modal',\"You withdraw fail\");\r\n        window.location.reload()\r\n      }\r\n    }\r\n  }\r\n  async CocWithDeposit(amount){\r\n    if(this.state.dbank!=='undefined'){\r\n      try{\r\n        amount = amount * 10**18\r\n        await this.state.dbank.methods.CocWithEtherDeposit(amount.toString()).send({from:this.state.account});\r\n        fetch('https://iuh-bank-server.onrender.com/method', {\r\n          method: 'POST',\r\n          headers: {\r\n          'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({account: this.state.account, method: 'ether'}),\r\n          })\r\n          localStorage.setItem('modal',\"You stake successfully\");\r\n        window.location.reload();\r\n        } catch (e) {\r\n        localStorage.setItem('modal',\"You stake fail\");\r\n        window.location.reload()\r\n      }\r\n    }\r\n  }\r\n  async CocWithToken(amount){\r\n    if(this.state.dbank!=='undefined'){\r\n      try{\r\n        amount = amount * 10**18;\r\n        await this.state.token.methods.approve(this.state.dBankAddress, amount.toString()).send({from: this.state.account})\r\n        await this.state.dbank.methods.CocWithToken(amount.toString()).send({from:this.state.account});\r\n        fetch('https://iuh-bank-server.onrender.com/method', {\r\n          method: 'POST',\r\n          headers: {\r\n          'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({account: this.state.account, method: 'Token'}),\r\n          })\r\n        localStorage.setItem('modal',\"You stake successfully\");\r\n        window.location.reload();\r\n        } catch (e) {\r\n        localStorage.setItem('modal',\"You stake fail\");\r\n        window.location.reload()\r\n      }\r\n    }\r\n  }\r\n  async deposit(amount) {\r\n    if(this.state.dbank!=='undefined'){\r\n      try{\r\n        await this.state.dbank.methods.deposit().send({value: amount.toString(), from: this.state.account});\r\n        localStorage.setItem('modal',\"You deposit successfully\");\r\n        window.location.reload()\r\n      } catch (e) {\r\n        localStorage.setItem('modal',\"You deposit fail\");\r\n        window.location.reload();\r\n      }\r\n    }\r\n  }\r\n  async lendToken(address, amount, interest){\r\n    if(this.state.dbank!=='undefined'){\r\n      try{\r\n        amount = amount * 10**18;\r\n        await this.state.token.methods.approve(this.state.dBankAddress, amount.toString()).send({from: this.state.account})\r\n        await this.state.dbank.methods.lendToken(address, interest).send({value: amount, from:this.state.account});\r\n        localStorage.setItem('modal',\"You lend successfully\");\r\n        window.location.reload();\r\n        } catch (e) {\r\n        // báo lỗi nếu việc lấy giá trị bị lỗi\r\n        localStorage.setItem('modal',\"You lend fail\");\r\n        window.location.reload()\r\n      }\r\n    }\r\n  }\r\n  async lend(address,amountSend,interest) {\r\n    if(this.state.dbank!=='undefined'){\r\n      try{\r\n        amountSend *= 10**18\r\n        // Sau đó trả lại cho người dùng tiền đã thế chấp\r\n        await this.state.dbank.methods.lendEther(address,amountSend.toString(),interest).send({from: this.state.account});\r\n        localStorage.setItem('modal',\"You lend successfully\");\r\n        window.location.reload();\r\n      } catch (e) {\r\n        localStorage.setItem('modal',\"You lend fail\");\r\n        window.location.reload()\r\n      }\r\n    }\r\n  }\r\n  async lendDerectly(address,amountSend,interest) {\r\n    if(this.state.dbank!=='undefined'){\r\n      try{\r\n        amountSend *= 10**18\r\n        await this.state.dbank.methods.lendEtherDerectly(address,interest).send({value: amountSend.toString(),from: this.state.account});\r\n        localStorage.setItem('modal',\"You lend successfully\");\r\n        window.location.reload();\r\n      } catch (e) {\r\n        localStorage.setItem('modal',\"You lend fail\");\r\n        window.location.reload()\r\n      }\r\n    }\r\n  }\r\n  async payOffEther(address,amount) {\r\n    if(this.state.dbank!=='undefined'){\r\n      try{\r\n        await this.state.dbank.methods.payOffEther(address,amount).send({value: amount, from: this.state.account});\r\n        localStorage.setItem('modal',\"You PayOFf successfully\");\r\n        window.location.reload();\r\n      } catch (e) {\r\n        localStorage.setItem('modal',\"You PayOff fail\");\r\n        window.location.reload()\r\n\r\n      }\r\n    }\r\n  }\r\n  async payOffToken(address,amount){\r\n    if(this.state.dbank!=='undefined'){\r\n      try{\r\n        await this.state.token.methods.approve(this.state.dBankAddress,amount).send({from: this.state.account})\r\n        await this.state.dbank.methods.payOffToken(address).send({ from:this.state.account});\r\n        localStorage.setItem('modal',\"You PayOFf successfully\");\r\n        window.location.reload();\r\n        } catch (e) {\r\n        localStorage.setItem('modal',\"You PayOff fail\");\r\n        window.location.reload()\r\n      }\r\n    }\r\n  }\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      web3: 'undefined',\r\n      account: '',\r\n      token: null,\r\n      dbank: null,\r\n      balance: 0,\r\n      dBankAddress: null,\r\n      bankBanlace: 0,\r\n      TokenBalance: 0,\r\n      stake: 0,\r\n      connect: false,\r\n    }\r\n  }\r\n\r\n  // dùng để tạo giao diện website \r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        {modal !== '' && <ModalShow message = {modal} />}\r\n        <div className='text-monospace'>\r\n          {this.state.connect === false && <div onLoad={this.loadBlockchainData(this.props.dispatch)}></div> }\r\n          { this.state.connect === true && \r\n            <div>\r\n              <nav className=\"navbar navbar-primary fixed-top bg-primary flex-md-nowrap p-0 shadow\">\r\n                <a\r\n                  className=\"navbar-brand col-sm-3 col-md-2 mr-0\"\r\n                  href=\"#\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                >\r\n              <img src={dbank} className=\"App-logo m-auto \" alt=\"logo\" height=\"32\"/>\r\n              <b className='text-dark'>IUHBANK</b>\r\n                </a>\r\n              </nav>\r\n              <div className=\"container-fluid mt-5 text-center\">\r\n              <br></br>\r\n                <h1>Welcome to d₿ank</h1>\r\n                <h4>Your accoutn have : Ether: {this.state.bankBanlace}, Token: {this.state.TokenBalance},  Stake: {this.state.stake} </h4>\r\n                <br></br>\r\n                <div className=\"row\">\r\n                  <main role=\"main\" className=\"col-lg-12 d-flex text-center\">\r\n                    <div className=\"content mr-auto ml-auto\">\r\n                      <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\">\r\n                        <Tab eventKey=\"send\" title = \"Send\">\r\n                          <div>\r\n                            <form>\r\n                            {(amount == 0) && \r\n                              <div>\r\n                                <br></br>\r\n                                <button type='button'  onClick={this.sendAddress.bind(this)}className='btn btn-primary'>Send Address</button><br></br>\r\n                                <br></br>\r\n                                <button type='submit' onClick={this.handleRequest.bind(this)}className='btn btn-primary'>Refresh</button>\r\n                              </div>\r\n                            }\r\n                            {(amount != 0) && \r\n                                <div>\r\n                                  <br></br>\r\n                                  <p>Do you want to deposit?</p>\r\n                                  <form onSubmit={(e) => {\r\n                                    e.preventDefault()\r\n                                    amount = amount * 10**18;\r\n                                    this.coc(amount);\r\n                                  }}>\r\n                                  {/* tạo form cho người dùng nhạp số lượng */}\r\n                                    <div className='form-group mr-sm-2'>\r\n                                      <br></br>\r\n                                      <input\r\n                                        type='number'\r\n                                        className=\"form-control form-control-md\"\r\n                                        placeholder= {amount}\r\n                                        disabled />\r\n                                    </div>\r\n                                    <button type=\"submit\" className='btn btn-primary'>DEPOSIT</button>{\" \"}\r\n                                    <button type=\"submit\" className='btn btn-primary' onClick={(e) => {\r\n                                      e.preventDefault()\r\n                                      amount = amount;\r\n                                    this.CocWithDeposit(amount);}} >Deposit with deposit</button><br/>\r\n                                    <button type=\"submit\" className='mt-2 btn btn-primary' onClick={(e) => {\r\n                                      e.preventDefault()\r\n                                      amount = amount;\r\n                                    this.CocWithToken(amount);}} >Deposit with Token</button>\r\n                                  </form>\r\n                                </div>}\r\n                            </form>\r\n                          </div>\r\n                        </Tab>\r\n                        <Tab eventKey=\"lend\" title=\"lend\">\r\n                          <div>\r\n                            <br></br>\r\n                            How much do you want to deposit?\r\n                            <br></br>\r\n                            (min. amount is 0.01 ETH)\r\n                            <br></br>\r\n                            (1 deposit is possible at the time)\r\n                            <br></br>\r\n                            <form >\r\n                              {/* tạo form cho người dùng nhạp số lượng */}\r\n                              <div className='form-group mr-sm-2'>\r\n                                <br></br>\r\n                                  <input\r\n                                    id='address'\r\n                                    type='text'\r\n                                    ref={(input) => { this.address = input }}\r\n                                    className=\"form-control form-control-md\"\r\n                                    placeholder='adress...'\r\n                                    required />\r\n                                  <br></br>\r\n                                  <input\r\n                                    id='amountSend'\r\n                                    type='number'\r\n                                    ref={(input) => { this.amountSend = input }}\r\n                                    className=\"form-control form-control-md\"\r\n                                    placeholder='amount to lend...'\r\n                                    required />\r\n                                  <br></br>\r\n                                  <input\r\n                                    id='interest'\r\n                                    type='number'\r\n                                    ref={(input) => { this.interest = input }}\r\n                                    className=\"form-control form-control-md\"\r\n                                    placeholder='interest to lend...'\r\n                                    required />\r\n                              </div>\r\n                              <button type='button' className='m-3 mt-0 btn btn-primary' onClick={(e) => {\r\n                                e.preventDefault()\r\n                                let amountsend = this.amountSend.value\r\n                                let interest = this.interest.value\r\n                                let address = this.address.value\r\n                                this.lendToken(address,amountsend,interest);\r\n                              }}>lendToken</button>\r\n                              <button type='button'  className='btn btn-primary m-3 mt-0' onClick={(e) => {\r\n                                e.preventDefault()\r\n                                let amountsend = this.amountSend.value\r\n                                let interest = this.interest.value\r\n                                let address = this.address.value\r\n                                this.lendDerectly(address,amountsend,interest);\r\n                              }}>lendDerectly</button>\r\n\r\n                              <button type='button' className='btn btn-primary m-3 mt-0' onClick={(e) => {\r\n                                e.preventDefault()\r\n                                let amountsend = this.amountSend.value\r\n                                let interest = this.interest.value\r\n                                let address = this.address.value\r\n                                this.lend(address,amountsend,interest);\r\n                              }}>lend</button>\r\n                            </form>\r\n                          </div>\r\n                        </Tab>\r\n                        <Tab eventKey=\"deposit\" title=\"Deposit\">\r\n                        <div>\r\n                          <br></br>\r\n                          How much do you want to deposit?\r\n                          <br></br>\r\n                          (min. amount is 0.01 ETH)\r\n                          <br></br>\r\n                          (1 deposit is possible at the time)\r\n                          <br></br>\r\n                          {/* khi người dùng nhập vào số lượng và nhấn nút submit \\ */}\r\n                          <form onSubmit={(e) => {\r\n                            e.preventDefault()\r\n                            let amount = this.depositAmount.value\r\n                            amount = amount * 10**18 //convert to wei\r\n                            this.deposit(amount);\r\n                          }}>\r\n                            <div className='form-group mr-sm-2'>\r\n                              <br></br>\r\n                              <input\r\n                                id='depositAmount'\r\n                                step=\"0.01\"\r\n                                type='number'\r\n                                ref={(input) => { this.depositAmount = input }}\r\n                                className=\"form-control form-control-md\"\r\n                                placeholder='amount...'\r\n                                required />\r\n                            </div>\r\n                            <button type='submit' className='btn btn-primary'>DEPOSIT</button>\r\n                          </form>\r\n                        </div>\r\n                        </Tab>\r\n                        <Tab eventKey=\"withdraw\" title=\"Withdraw\">\r\n                          <br></br>\r\n                          Do you want to withdraw + take interest?\r\n                          <br></br>\r\n                          <br></br>\r\n                          <div>\r\n                            {/* tương tự như trên khi người dùng nhấn nút withdraw sẽ thực hiện hàm withdraw */}\r\n                            <button type='submit' className='btn btn-primary' onClick={(e) => this.withdraw(e)}>WITHDRAW</button>\r\n                          </div>\r\n                        </Tab>\r\n                        <Tab eventKey=\"Payoff\" title=\"Pay off\">\r\n                          {lender != [] && lender.map(lendercon  => lendercon.value != 0 &&\r\n                            <div>\r\n                              <form >\r\n                                {/* tạo form cho người dùng nhạp số lượng */}\r\n                                <div className='form-group mr-sm-2'>\r\n                                  <br></br>\r\n                                  <input\r\n                                    type='text'\r\n                                    className=\"form-control form-control-md\"\r\n                                    placeholder= {lendercon.account} \r\n                                    disabled/>\r\n                                  <br></br>\r\n                                  <input\r\n                                    type='number'\r\n                                    className=\"form-control form-control-md\"\r\n                                    placeholder= {lendercon.value}\r\n                                    disabled\r\n                                    />\r\n                                  <br></br>\r\n                                  <input\r\n                                    type='text'\r\n                                    className=\"form-control form-control-md\"\r\n                                    placeholder= {lendercon.method}\r\n                                    disabled/>\r\n                                  <br></br>\r\n                                  <input\r\n                                    type='text'\r\n                                    className=\"form-control form-control-md\"\r\n                                    placeholder= {lendercon.payOffAmount} \r\n                                    disabled/>\r\n                                </div>\r\n                                <button type='button' className='m-3 mt-0 btn btn-primary' onClick={(e) => {\r\n                                  e.preventDefault()\r\n                                  this.payOffToken(lendercon.account, lendercon.payOffAmount);\r\n                                }}>Pay off by Token</button>\r\n                                <button type='button' className='btn btn-primary m-3 mt-0' onClick={(e) => {\r\n                                  e.preventDefault()\r\n                                  this.payOffEther(lendercon.account, lendercon.payOffAmount);\r\n                                }}>Pay off by Ether</button>\r\n                              </form>\r\n                            </div>)}\r\n                        </Tab>\r\n                      </Tabs>\r\n                    </div>\r\n                  </main>\r\n                </div>\r\n              </div>\r\n            </div>}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}